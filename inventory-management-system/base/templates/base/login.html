{% extends 'main.html' %} {% block content %}
{% load static %}
<!--
  Co-Author: 
  - Anthony
-->
<main>
  <h1 class="login-title">Login</h1>
  <form class="login-form" method="POST" action="" onsubmit="return validateLogin()">
    {% csrf_token %}
    {{ form.as_p }}
    <div class="login-options">
      <div class="form-button-section">
        <a class="form-button" href="landing_page">Back</a>
        <!-- Process login and take user to either student or admin profile-->
        <button type="submit" class="form-button">Login</button>
      </div>
      <div class="login-info">
        <p>Forgotten Password?</p>
        <p>
          Not Registered Yet?
          <a class="sign-up-link" href="sign_up">Register Here</a>
        </p>
        <!-- Display the content below if the user has entered an invalid username or password -->
        <p class="error-message" id="error-message" style="display: none"></p>
      </div>
    </div>
  </form>
</main>

<script>
  function validateLogin() {
    const username = document.getElementById("username").value;
    const password = document.getElementById("password").value;
    const errorMessage = document.getElementById("error-message");

    // Check if username length is less than 3 characters and prevent form submission
    if (username.length < 3) {
      errorMessage.textContent = "Username must be at least 3 characters long.";
      errorMessage.style.display = "block";
      return false;
    }

    // Check if password length is less than 6 characters and prevent form submission
    if (password.length < 6) {
      errorMessage.textContent = "Password must be at least 6 characters long.";
      errorMessage.style.display = "block";
      return false; // Prevent form submission
    }

    // Create if statement to check if username and password don't match the one in the database and if not display:
    // Invalid username or password

    return true;
  }
</script>

{% endblock content %}
