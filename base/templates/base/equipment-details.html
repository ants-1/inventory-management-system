{% extends 'main.html' %}
{% load static %}
{% block content %}
<!--
Author: 
  - Anthony
-->
<style>
    .equipment-name {
        font-size: 40px;
        color: grey;
        font-weight: 100;
        margin-bottom: 40px;
    }
    
    .equipment-image {
        height: 400px;
        width: 600px;
        border-radius: 20px;
        border: 2px solid black;
        margin-bottom: 20px;
    }

    .pick-up-info {
        display: flex;
        align-items: baseline;
        gap: 50px;
    }

    .booking-date {
        display: flex;
        gap: 50px;
        margin-bottom: 20px;
    }

    .available {
        color: #AEEB8F;
    }

    .not-available {
        color: red;
    }

    .out-service {
        color: orange;
    }

    .booking-btn {
        text-decoration: none;
        color: white;
        padding: 10px 30px;
        background-color: #AEEB8F;
        border-radius: 10px;
        border: none;
    }

    .booking-btn:hover {
        background-color: grey;
        color: white;
    }
</style>
<main>
    <!-- Add a form to create a new booking -->
    <h1>Equipment Details</h1>
    <h3 class="equipment-name">{{list_item.name}}</h3>
    <img class="equipment-image" src="{% static list_item.img_url %}" alt={{list_item.name}} />
    <div class="equipment-info">
        <p>{{list_item.description}}</p>
    </div>
    <div class="booking-date">
        {% if list_item.borrow_date == "" %}
            <div>
                <label>From:</label>
                <input type="date">
            </div>
            <div>
                <label>To:</label>
                <input type="date">
            </div>
        {% else %}
            <div>
                <p>From: <span>{{list_item.borrow_date}}</span></p>
            </div>
            <div>
                <p>To: <span>{{list_item.return_date}}</span></p>
            </div>
        {% endif %}
    </div>
    <div class="pick-up-info">
        <p>Status: <span id="status">{{list_item.status}}</span></p>
        <p>Pick up: <span id="site">{{list_item.location}}</span></p>
        <button class="booking-btn">Request Booking</button>
    </div>
</main>
<script>
    const status = document.getElementById("status");
    const bookingBtns = document.getElementsByClassName("booking-btn");
    
    if (status.textContent.trim() === "On Loan" || status.textContent.trim() === "Out of Service") {
        status.classList.add(status.textContent.trim() === "On Loan" ? "not-available" : "out-service");
        Array.from(bookingBtns).forEach(button => {
            button.style.backgroundColor = "grey";
            button.disabled = true;
        });
    } else if (status.textContent.trim() === "Available") {
        status.classList.add("available");
    }
</script>
{% endblock content %}